Version 4
SHEET 1 1268 680
WIRE -256 -1248 -384 -1248
WIRE -64 -1248 -176 -1248
WIRE -384 -1136 -384 -1248
WIRE -320 -1136 -384 -1136
WIRE -208 -1136 -256 -1136
WIRE 272 -1136 192 -1136
WIRE 416 -1136 352 -1136
WIRE -560 -1040 -672 -1040
WIRE -512 -1040 -560 -1040
WIRE -384 -1040 -384 -1136
WIRE -384 -1040 -432 -1040
WIRE -352 -1040 -384 -1040
WIRE -208 -1024 -208 -1136
WIRE -208 -1024 -288 -1024
WIRE -160 -1024 -208 -1024
WIRE -64 -1024 -64 -1248
WIRE -64 -1024 -96 -1024
WIRE -32 -1024 -64 -1024
WIRE 16 -1024 -32 -1024
WIRE 192 -1024 192 -1136
WIRE 192 -1024 96 -1024
WIRE 256 -1024 192 -1024
WIRE -672 -1008 -672 -1040
WIRE -352 -1008 -384 -1008
WIRE 416 -1008 416 -1136
WIRE 416 -1008 320 -1008
WIRE 464 -1008 416 -1008
WIRE 528 -1008 464 -1008
WIRE 256 -992 224 -992
WIRE -1008 -976 -1008 -1008
WIRE -848 -976 -1008 -976
WIRE -384 -976 -384 -1008
WIRE 224 -928 224 -992
WIRE -1008 -912 -1008 -976
WIRE -848 -912 -848 -976
WIRE -672 -912 -672 -928
WIRE -560 -896 -560 -1040
WIRE -240 -896 -560 -896
WIRE -16 -896 -160 -896
WIRE 80 -896 64 -896
WIRE 192 -896 192 -1024
WIRE 192 -896 80 -896
WIRE 80 -848 80 -896
WIRE 80 -848 16 -848
WIRE -1008 -800 -1008 -832
WIRE -848 -800 -848 -848
WIRE -848 -800 -1008 -800
WIRE -784 -800 -848 -800
WIRE -1008 -768 -1008 -800
WIRE -848 -768 -848 -800
WIRE -128 -656 -192 -656
WIRE 16 -656 -48 -656
WIRE 112 -656 16 -656
WIRE 304 -656 208 -656
WIRE -1008 -640 -1008 -688
WIRE -848 -640 -848 -704
WIRE -848 -640 -1008 -640
WIRE -1008 -608 -1008 -640
WIRE 176 -512 128 -512
WIRE 128 -464 128 -512
WIRE 16 -448 16 -656
WIRE 96 -448 16 -448
WIRE -192 -432 -192 -656
WIRE -192 -432 -240 -432
WIRE 304 -432 304 -656
WIRE 304 -432 160 -432
WIRE 368 -432 304 -432
WIRE 96 -416 16 -416
WIRE 16 -368 16 -416
WIRE 800 -368 656 -368
WIRE 992 -368 880 -368
WIRE 128 -352 128 -400
WIRE 176 -352 128 -352
WIRE 848 -272 800 -272
WIRE 800 -224 800 -272
WIRE 448 -208 448 -432
WIRE 656 -208 656 -368
WIRE 656 -208 448 -208
WIRE 768 -208 656 -208
WIRE -192 -192 -192 -432
WIRE -128 -192 -192 -192
WIRE 16 -192 -48 -192
WIRE 112 -192 16 -192
WIRE 304 -192 208 -192
WIRE 992 -192 992 -368
WIRE 992 -192 832 -192
WIRE 1024 -192 992 -192
WIRE 768 -176 736 -176
WIRE 736 -144 736 -176
WIRE 800 -112 800 -160
WIRE 848 -112 800 -112
WIRE 176 -48 128 -48
WIRE 128 0 128 -48
WIRE 16 16 16 -192
WIRE 96 16 16 16
WIRE 304 32 304 -192
WIRE 304 32 160 32
WIRE 368 32 304 32
WIRE 448 32 448 -208
WIRE 96 48 16 48
WIRE 16 96 16 48
WIRE 128 112 128 64
WIRE 176 112 128 112
FLAG -784 -800 0
FLAG -1008 -1008 V+
IOPIN -1008 -1008 BiDir
FLAG -1008 -608 V-
IOPIN -1008 -608 BiDir
FLAG -672 -912 0
FLAG -384 -976 0
FLAG -320 -1056 V+
IOPIN -320 -1056 BiDir
FLAG -320 -992 V-
IOPIN -320 -992 BiDir
FLAG 288 -1040 V+
IOPIN 288 -1040 BiDir
FLAG 288 -976 V-
IOPIN 288 -976 BiDir
FLAG 224 -928 0
FLAG 528 -1008 Vout
IOPIN 528 -1008 BiDir
FLAG -32 -1024 Half
FLAG 464 -1008 Full
FLAG -256 -1056 0
FLAG -256 -992 0
FLAG 352 -1040 0
FLAG 352 -976 0
FLAG 128 -512 V+
IOPIN 128 -512 BiDir
FLAG 240 -352 0
FLAG 240 -512 0
FLAG 128 -352 V-
IOPIN 128 -352 BiDir
FLAG 16 -368 0
FLAG 1024 -192 Vo
IOPIN 1024 -192 Out
FLAG 160 -592 0
FLAG 800 -272 V+
IOPIN 800 -272 BiDir
FLAG 912 -272 0
FLAG 912 -112 0
FLAG 800 -112 V-
IOPIN 800 -112 BiDir
FLAG 736 -144 0
FLAG -240 -432 Vout
IOPIN -240 -432 BiDir
FLAG 128 -48 V+
IOPIN 128 -48 BiDir
FLAG 240 112 0
FLAG 240 -48 0
FLAG 128 112 V-
IOPIN 128 112 BiDir
FLAG 16 96 0
FLAG 160 -128 0
SYMBOL voltage -1008 -928 R0
SYMATTR InstName VCC1
SYMATTR Value 5
SYMBOL voltage -1008 -784 R0
SYMATTR InstName VEE1
SYMATTR Value 5
SYMBOL polcap -864 -912 R0
SYMATTR InstName Cbyp1
SYMATTR Value 10µ
SYMBOL polcap -864 -768 R0
SYMATTR InstName Cbyp2
SYMATTR Value 10µ
SYMBOL voltage -672 -1024 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 100m 1k)
SYMBOL ECE3161\\TL974 -320 -1024 R0
SYMATTR InstName U3
SYMBOL res -416 -1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL diode -256 -1152 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMBOL diode -96 -1040 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMBOL res -160 -1264 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL ECE3161\\TL974 288 -1008 R0
SYMATTR InstName U4
SYMBOL res 368 -1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res -144 -912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 9.4k
SYMBOL res 112 -1040 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 5k
SYMBOL ECE3161\\pot 80 -912 R90
WINDOW 3 -16 -62 VRight 2
SYMATTR Value Rtot=1K wiper=.4
SYMATTR InstName U5
SYMBOL cap -256 -1072 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL cap -256 -1008 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL cap 352 -1056 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 100n
SYMBOL cap 352 -992 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL ECE3161\\TL974 128 -432 R0
SYMATTR InstName U2
SYMBOL cap 176 -368 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL cap 176 -528 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL res -32 -672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res -32 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 464 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res 464 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL ECE3161\\TL974 800 -192 R0
SYMATTR InstName U6
SYMBOL cap 848 -256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C9
SYMATTR Value 100n
SYMBOL cap 848 -96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C10
SYMATTR Value 100n
SYMBOL res 896 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL npn 112 -592 R270
SYMATTR InstName Q2
SYMATTR Value BD135
SYMBOL ECE3161\\TL974 128 32 R0
SYMATTR InstName U7
SYMBOL cap 176 96 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 100n
SYMBOL cap 176 -64 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 100n
SYMBOL npn 112 -128 R270
SYMATTR InstName Q3
SYMATTR Value BD135
TEXT -936 -568 Left 2 !.tran 10m
TEXT -352 -824 Left 2 ;Precision full wave rectifier
TEXT -936 -536 Left 2 !.inc pot.sub
TEXT -936 -504 Left 2 !.inc BD135.mod
TEXT -936 -472 Left 2 !.inc BD136.mod
TEXT -936 -440 Left 2 !.meas TRAN ave_out AVG V(Vo) FROM 1m TO 5m
TEXT -928 -360 Left 2 ;Increasing R7 and R8 resistance eliminates the effect\nof negative logarithmic values (negative spikes).\nHowever, there is a threshold as to how high R7 and\nR8 can go before circuit stop functioning properly.\nReason for this requires further investigation.
TEXT 648 -528 Left 2 ;Changing resistance of R11 seems to affect circuit\nfunctionality as well (same effect as R7 and R8 being\ntoo high).
TEXT 744 -8 Left 2 ;Summing amplifier
TEXT 16 208 Left 2 ;Double logarithmic amplifier
